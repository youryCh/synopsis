> **Http API** - способ взаимодействия между программами и сервисами по http протоколу.

**Базовые правила API:**  
- данные передаются в формате JSON  
- для каждого набора данных свой набор url

> **Endpoint** - url по которому получаем данные в api.

> **Динамический эндпоинт** - с меняющейся частью, вида `/users/{id}`.

> **Метаданные** - данные о данных.

> **Кеширование** - позволяет веб/прокси серверу сохранять ответ сервера и использовать его без повторного обращения к серверу.

> Кешируются GET запросы, POST, PUT, DELETE - нет.

___

## Виды API

### REST

> **REST** - representational state transfer; архитектурный стиль построения api; придумал один из создателей HTTP;  
> использует возможности HTTP по максимуму (заголовки, коды ответов и тп.).

> Есть попытки создать стандартизированный REST API (который не является стандартом), например `json:api`.

### RPC

> **RPC** - remote procedure call; самый ранний стиль описания апи.

> Обычно RPC API работает с одним эндпоинтом (например /rpc), на который отправляется GET/POST запрос.  
> Обработка ошибок, сайд-эффекты зашиты в само тело запроса/ответа.

> **Идея RPC** - мы вызывает функцию, остальное делается внутри неё неявно.

Некоторые стандарты RPC API:  
- NFC  
- XML-RPC  
- SOAP  
- JSON-RPC  
- gRPC  
- GraphQL  

```
// пример запроса к JSON-RPC
curl -X POST \
  -H 'Content-Type: application/json' \
  -d '{"jsonrpc":"2.0","id":1,"method":"greet","params":{"name":"Anna"}}' \
  http://localhost:8080/rpc
```

### REST-full

**5 principles:**  
1. Everything is a resource
2. Every resource is identified by a uniq id
3. Use simple and uniform interfaces
4. Communication are done by representation
5. Be stateless

> REST-full - если соблюдены все 5 требований.  
> REST-like - если не все.

___

## Open API

> **Open API** - языконезависимый стандарт описания апи, понятный человеку и машине.

Позволяет делать:  
- авто генерацию документации  
- авто генерацию тестов  
- авто генерацию кода запроса  
- проверку корректности данных

> Удобно записывать в yaml или json формате.

___


