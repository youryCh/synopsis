## Модульная архитектура

> Реализует однонаправленный поток данных (Flux) - нижележащие слои не могут использовать вышележащие.

**Слои:**
- pages
- modules
- components
- UI

> **UI** - переиспользуемые ui-компоненты без бизнес-логики (кнопки, спиннеры, инпуты);  
> ui - самое часто изменяемое, поэтому делается максимально независимым (т.е. при изменении ui слоя  
> не нужно ничего менять в слоях выше).

> **components** - могут содержать немного бизнес-логики; содержит в себе ui-компоненты (карточка юзера).

> **modules** - самостоятельная часть интерфейса со своей зоной ответственности (форма регистрации);  
> внутри агрегирует компоненты из слоя ниже, имеет свой state;  
> модуль решает одну большую задачу;  
> внутри содержит:  
> - api  
> - components  
> - constants  
> - helpers  
> - store  
> - index.ts

> **index.ts** - public api;  экспортирует только то что предусмотрено наружу, изолирует скрытые внутренности модуля;  
> всё что отдаётся наружу из модуля - только через index.

> **pages** - по сути тот же модуль, но верхнего уровня; структура как у модуля; страница должна оставаться максимально  
> тонкой, в идеале - перечень модулей и компонентов.

**Преимущества:**
- изолированные модули (public api)
- однонаправленный поток данных
- переиспользуемость (за счёт слоёв)
- модуль легко удалить из кода

**Недостатки:**
- не всегда понятно что module а что component
- сложность использовать модуль в другом модуле (если группировать в page, то могут появиться дубли)
- не ясно где хранить бизнес-сущности (например типы)
- неявные связи с глобальными функциями, данными (корневой store, helpers)

> Модульная архитектура не подходит для большого проекта со сложной бизнес-логикой.
___

## Atomic design

**Атомарный дизайн** - это методика иерархичного формирования шаблона; так же подходит для создания дизайн систем.

> Похожа на модульную, но со своей спецификой.  
> Также имеет однонаправленный поток данных Flux, что позволяет избежать неявных связей и циклических зависимостей.

**Слои:**
- pages
- templates
- organisms
- molecules
- atoms

**atoms** - ui слой без бизнес-логики (input, button); основные строительные блоки (button, input, базовые html  
элементы).

**molecules** - состоит из атомов, обычно без бизнес-логики (например input + search button + header, группы кнопок,  
label и form с несколькими input).

**organisms** - состоит из молекул, содержит бизнес-логику (как modules); отдельный раздел интерфейса (панель  
навигации).

**templates** - содержит layout-страницы, но без привязки к данным (типа абстрактная страница); шаблоны состоят из  
групп организмов, образуют страницу с законченным дизайном с возможностью переиспользования с разным контентом.

**pages** - содержат templates с нужными организмами; экосистема с возможностью просмотра разных рендеров шаблонов;  
множество pages в одной экосистеме образуют приложение.

Преимущества и недостатки те же что и у модульной архитектуры.
___

## Feature sliced design

> Тоже Flux; слои более бизнес-ориентированы.  
> Каждый слой обладает своей зоной ответственности.  
> Каждый слой содержит **слайсы** (тоже что модули).  
> Каждый слайс содержит стандартные **сегменты** (api, components, helpers, etc)

**Слои:**
- app
- processes
- pages
- widgets
- features
- entities
- shared

> **entities** - конкретные бизнес-сущности (user, article, comment).

> **features** - модули с глобальной бизнес-ценностью (авторизация, формы).

> **widgets** - максимально самостоятельные компоненты (sidebar, header, navbar).

> Каждый слой содержит **сегменты**:  
> - UI - компоненты  
> - model - бизнес-логика (state, selectors)  
> - lib - хелперы  
> - config - конфигурация модуля (используется редко)  
> - api - запросы на сервер  
> - consts - константы

```
src/
  |-app/  (инициализирующая логика)
  |
  |-processes/  (опционально; процессы приложения, протекающие над страницей)
  |
  |-pages/  (страницы приложения)
  |
  |-widgets/  (самостоятельный полноценные блоки для страниц)
  |
  |-features/  (опционально; обрабатываемые юзер-сценарии)
  |
  |-entities/  (опционально; бизнес-сущности, которыми оперирует предметная область)
  |
  |-shared/  (переиспользуемые модули, без привязки к бизнес-логике)
```

### Примеры слоёв:

**shared** - ui-компоненты, кнопки, модалки, общие хелперы, общие конфиги.

**entities** - товар, заказ, корзина, юзер.

**features** - подписка на пользователя, поставить лайк, оценка товара.

**widgets** - блоки для страниц.

**processes** - для процессов, которые затрагивают несколько страниц.

**app** - entry point проекта; провайдеры, роутер, глобальные конфиги/стили/типы.

> Feature slices даёт самое слабое зацепление компонентов и высокую связанность.
___
